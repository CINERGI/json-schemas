{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "JSON schema for describing a data type, intended as information design for information model registry. Base on RDA data type registry model, ISO11179, ISO19110, and CSDGM Entity-Attribute section.  The idea is to define a framework that can handle primitive data types (integer, text, float, boolean) and use these to build descriptions of complex data types like record type structures, objects, and grid/array data types, with URIs linking to concept registry to provide semantics.",
    "type": "object",
    "required": ["dataTypeName", "dataTypeDescription"],
    "properties": {
        "dataTypeURI": {
            "description":"The URI should unique identify major and minor versions, same URI==compatibile with same software",
            "type": "string",
            "format": "URI"
        },
        "dataTypeName": {
            "description":"a unique name for this data type within some context, for use by people to identify the datatype.",
            "type": "string",
            "title": "Type Name"
        },
        "dataTypeVersion": {
            "description":"The URI should unique identify major and minor versions. Bug fix and cosmetic updates can be identified with this version string",
            "type": "string"
        },
        "dataTypeDescription": {
            "description":"explanation of the intention, origin, and other information about the dataType",
            "type": "string",
            "title": "Description"
        },
        "standards": {
            "type": "array",
            "title": "Applicable Standards or Recommendations",
            "uniqueItems": true,
            "items": {
                "type": "object",
                "title": "Standard",
                "required": ["standardAuthority", "standardName"],
                "properties": {
                    "standardURI": {
                        "type": "string",
                        "format": "URI"
                    },
                    "standardAuthority": {
                        "title": "Issued By",
                        "type": "string"
                    },
                    "standardName": {
                        "title": "Standard Name",
                        "type": "string",
                        "description": "TID or standard number/name"
                    },
                    "natureOfApplicability": {
                        "title": "Nature of Applicability",
                        "type": "string",
                        "enum": ["extends", "constrains", "specifies", "depends"]
                    }
                }
            }
        },
        "typeDefinitionProvenance": {
            "type": "array",
            "title": "Provenance",
            "definition": "Record of the actions and parties responsibile for origin and any updates to the DataTypeDefinition.",
            "items": {
                "type": "object",
                "properties": {
                    "event": {},
                    "responsibleParty": {}
                }
            }
        },
        "expectedUses": {
            "type": "array",
            "definition": "array of text statements explaining intended application of data type",
            "title": "Expected Uses",
            "items": {
                "type": "string",
                "title": "Use"
            }
        },
        "examples": {
            "definition": "Example instances of the data type",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "exampleDataTypeInstance": {},
                    "linkToExampleDataset": {}
                }
            }
        },
        "dataTypeConcept": {
            "definition": "specification of the idea, abstraction, or thing that is represented by the data type; independent of the actual implementation/representation. This implementation takes the view that a dataType represents some ObjectClass (definition 3.3.22, ISO11179-1)",
            "type": "object",
            "source": "this section based on ISO 11179, parts 1 and 3",
            "properties": {
                "objectClassURI": {
                    "definition": "identifier for registed object class concept.",
                    "type": "string",
                    "format": "URI"
                },
                "objectClassLabel": {
                    "definition": "text label to identify the object class in interfaces",
                    "type": "string"
                }
            }
        },
        "dataTypeRepresentation": {
            "definition": "specification of how the data type concept is represented (implemented) in the case of this particular data type. See ISO11179 part 3, Figure 16. Have to deal with record-type structures, object structures, and array structures? This section describes the content of an individual record or object, or the content associated with each cell in a grid or element in an array",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "dataElement": {
                        "definition": "a representation of a particular property of characteristic of the objectClass included in this data type",
                        "type": "object",
                        "properties": {
                            "dElemLabel": {
                                "definition": "text string to identify this element/attribute/property in the context of this data type. May be different from the formal dataTypeName"
                            },
                            "dElemDefinition": {
                                "definition": "text specification of the intention of the data element",
                                "type":"string"
                            },
                            "dElemURI": {
                                "definition": "unique identifier for the data element instance",
                                "type":"string",
                                "format":"URI"
                            },
                            "dElemConcept": {
                                "definition": "in O&M this would map to the phenomenon that an observation result is intended to characterize. From property concept register."
                            },
                            "dElemType": {
                                "definition": "primitive data type, based on basic types defined in ISO11179, clause 6.2.1 and XML data types; includes boolean, integer, Date, Value, String, DateTime, Text. [needs cleanup, might have enumeration?]; have to include Object that has another dataType as its value to allow for data structures.",
                                "properties": {
                                    "dElemTypeEnum": {
                                        "definition": "enumeration of primitive data types"
                                    },
                                    "dElemTypeName": {
                                        "definition": "Human-readable for this data element"
                                    },
                                    "dElemTypeURI": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "URI"
                                        }
                                    }
                                }
                            },
                            "dElemUOM": {
                                "definition": "unit of measure for reporting values of this data element",
                                "type": "string"
                            },
                            "dElemDomain": {
                                "definition": "",
                                "type": "object",
                                "properties": {
                                    "conceptualDomainDescription": {
                                        "definition": "Each value domain is a member of the extension of a concept, called the conceptual domain. A conceptual domain is a set of value meanings. The intension of a conceptual domain is its value meanings. Many value domains may be in the extension of the same conceptual domain, but a value domain is associated with one conceptual domain. ISO11179-1 clause 6.4",
                                        "type": "string"
                                    },
                                    "anyOf": [
                                        {
                                            "type": "object",
                                            "properties": {
                                                "enumeratedValueDomain": {}
                                            }
                                        },

                                        {
                                            "type": "object",
                                            "properties": {
                                                "rangeDomain": {}
                                            }
                                        },
                                        {
                                            "type": "object",
                                            "properties": {
                                                "codelistDomain": {}
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                }
            }
        },
        "dataTypeShape": {
            "definition": "specification of data shape for gridded/array type data; data dimensions are associated with dataElements defined in the dataTypeRepresentation Section. Typically the various dimensions map to some conceptual domain like space or time, sampled at some interval",
            "type": "object",
            "properties": {}
        }
    }
}
